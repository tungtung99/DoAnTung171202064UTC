@using ShopWatch.WebMvc.ViewModels
@model PublisherEditViewModel
@{
	ViewBag.Title = "EditPublisher";
	Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Chỉnh sửa thương hiệu</h2>
<hr />
<form action="/Admin/PublisherManagement/EditPublisher" method="post" class="row form-horizontal" enctype="multipart/form-data">
	@Html.AntiForgeryToken()
	<div class="col">
		<div class="form-group">
			<label class="control-label">Id</label>
			<div>
				<input type="text" name="PublisherId" class="form-control" value="@Model.PublisherId" readonly="readonly" />
				@Html.ValidationMessageFor(m => m.PublisherId, "", new { @class = "text-danger" })
			</div>
		</div>
		<div class="form-group">
			<label name="Name" class="control-label">Tên thương hiệu:</label>
			<div>
				<input type="text" name="PublisherName" class="form-control" value="@Model.PublisherName" required />
				@Html.ValidationMessageFor(m => m.PublisherName, "", new { @class = "text-danger" })
			</div>
		</div>
	</div>

	<div class="col">
		<div class="form-group">
			<label class="control-label">Mô tả:</label>
			<div>
				<textarea class="form-control" name="Description" id="ckeditor" required>@Model.Description</textarea>
				@Html.ValidationMessageFor(m => m.Description, "", new { @class = "text-danger" })
			</div>
		</div>
		<div class="form-group">
			<label class="control-label" for="ImgUrl">Ảnh :</label>
			<div class="form-row">
				<div class="col-6">
					<input type="file" class="custom-file-input" id="validatedCustomFile" name="ImgUrl" onload="fnClick()" onchange="readURL(this)" required/>
					<label class="custom-file-label" for="validatedCustomFile">Chọn ảnh</label>
				</div>
				<div class="col-6">
					<img id="FileImage" src="~/Assets/images/HINHTH/@Model.Image" name="ImgUrlhi" alt="your image" class="img-thumbnail" width="200" />
				</div>
			</div>
		</div>
		<div class="form-group">
			<input type="submit" class="btn btn-primary btn-check" onclick="fnClick()" value="Chỉnh sửa" />
			<a href="/Admin/PublisherManagement" class="btn btn-secondary">Hủy</a>
		</div>
	</div>
</form>

@*<script>
    function fnReader() {
        var reader = new FileReader();
        reader.onload = function (e) {
            console.log(e)
            document.getElementById("FileImage").src= e.target.result;
        };
        var data = document.getElementsByClassName("custom-file-input");
        data.ImgUrl.src = "/Assets/images/HINHTH/@Model.Image"; 
        console.log(document.getElementsByClassName("custom-file-input").ImgUrl.files[0])
        reader.readAsDataURL(document.getElementsByClassName("custom-file-input").ImgUrl.files[0]);
    }
    function fnClick(a) {
        var data = document.getElementById("validatedCustomFile");
        data.src = "/Assets/images/HINHTH/@Model.Image"; 
        console.log(this);
    }
    window.onload = document.getElementById("validatedCustomFile").onload(function () {
        console.log(this);
    });
</script>*@

@section scripts {
	<script src="~/Assets/js/ckeditor/ckeditor.js"></script>
	<script src="~/Assets/js/ckeditor/ckeditorconfig.js"></script>
	<script src="~/Assets/js/readurl.js"></script>
}

